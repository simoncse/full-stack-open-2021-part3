(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),a=t(15),o=t.n(a),i=t(6),s=t(3),u=t(0),d=function(e){return Object(u.jsxs)("div",{children:["filter shown with: ",Object(u.jsx)("input",{onChange:e.handleFilter,value:e.filter})]})},h=function(e){return Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:e.newPhone,onChange:e.handlePhoneChange})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",onClick:e.handleSubmit,children:"add"})})]})},j=function(e){var n=e.person,t=e.handleDelete;return Object(u.jsxs)(u.Fragment,{children:[n.name," ",n.phone," ",Object(u.jsx)("button",{type:"submit",onClick:function(){return t(n.id,n.name)},children:" delete"})]})},l=function(e){var n=e.filter,t=e.persons,c=e.handleDelete;return Object(u.jsx)("div",{children:n?t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(j,{person:e,handleDelete:c})},e.name)})):t.map((function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(j,{person:e,handleDelete:c})},e.name)}))})},f=t(4),b=t.n(f),m="/api/persons",O=function(){return b.a.get(m).then((function(e){return e.data}))},p=function(e){return b.a.post(m,e).then((function(e){return e.data}))},x=function(e){return b.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},v=function(e,n){return b.a.put("".concat(m,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){var n=e.message,t=e.style;return Object(u.jsx)("div",{className:t,children:n})},w=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1];Object(c.useEffect)((function(){O().then((function(e){r(e)}))}),[]);var a=Object(c.useState)(""),o=Object(s.a)(a,2),j=o[0],f=o[1],b=Object(c.useState)(""),m=Object(s.a)(b,2),w=m[0],y=m[1],S=Object(c.useState)(""),C=Object(s.a)(S,2),k=C[0],N=C[1],D=Object(c.useState)(""),T=Object(s.a)(D,2),P=T[0],J=T[1],F=Object(c.useState)(""),I=Object(s.a)(F,2),E=I[0],L=I[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),E&&Object(u.jsx)(g,{message:P,style:E}),Object(u.jsx)(d,{handleFilter:function(e){N(e.target.value)},filter:k}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsx)(h,{newName:j,handleNameChange:function(e){f(e.target.value)},newPhone:w,handlePhoneChange:function(e){y(e.target.value)},handleSubmit:function(e){e.preventDefault();var n={name:j,phone:w},c=t.find((function(e){return e.name===j})),a=Object(i.a)(Object(i.a)({},c),{},{phone:w});c?window.confirm("".concat(j," is already added to the phonebook, replace the old number with a new one?"))&&v(c.id,a).then((function(e){r(t.map((function(n){return n.id!==c.id?n:e}))),J("Updated ".concat(e.name)),L("success"),setTimeout((function(){L("")}),3e3)})).catch((function(e){406===e.response.status?(J(JSON.stringify(e.response.data.error).replace(/['"]+/g,"")),L("error"),setTimeout((function(){return L("")}),3e3)):(J("Information of ".concat(j," has already been removed from the system")),L("error"),setTimeout((function(){return L("")}),3e3))})):(p(n).then((function(e){r(t.concat(e)),J("Added ".concat(e.name)),L("success"),setTimeout((function(){return L("")}),3e3)})).catch((function(e){J(JSON.stringify(e.response.data.error).replace(/['"]+/g,"")),L("error"),setTimeout((function(){return L("")}),3e3)})),f(""),y(""))}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(l,{filter:k,persons:t,handleDelete:function(e,n){window.confirm("Delete ".concat(n,"?"))&&x(e).then((function(){var c=t.filter((function(n){return n.id!==e}));r(c),J("Successfully deleted ".concat(n)),L("success"),setTimeout((function(){L("")}),3e3)})).catch((function(e){J("Information of ".concat(n," has already been removed from the system")),L("error")}))}})]})]})};t(39);o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.18288e63.chunk.js.map