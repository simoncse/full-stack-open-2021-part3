(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),a=t(15),i=t.n(a),o=t(6),u=t(3),s=t(0),d=function(e){return Object(s.jsxs)("div",{children:["filter shown with: ",Object(s.jsx)("input",{onChange:e.handleFilter,value:e.filter})]})},j=function(e){return Object(s.jsxs)("form",{children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",onClick:e.handleSubmit,children:"add"})})]})},l=function(e){var n=e.person,t=e.handleDelete;return Object(s.jsxs)(s.Fragment,{children:[n.name," ",n.number," ",Object(s.jsx)("button",{type:"submit",onClick:function(){return t(n.id,n.name)},children:" delete"})]})},b=function(e){var n=e.filter,t=e.persons,c=e.handleDelete;return Object(s.jsx)("div",{children:n?t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(l,{person:e,handleDelete:c})},e.name)})):t.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(l,{person:e,handleDelete:c})},e.name)}))})},h=t(4),f=t.n(h),m="/api/persons",O=function(){return f.a.get(m).then((function(e){return e.data}))},x=function(e){return f.a.post(m,e).then((function(e){return e.data}))},p=function(e){return f.a.delete("".concat(m).concat(e)).then((function(e){return e.data}))},v=function(e,n){return f.a.put("".concat(m,"/").concat(e),n).then((function(e){return e.data}))},w=function(e){var n=e.message,t=e.style;return Object(s.jsx)("div",{className:t,children:n})},g=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1];Object(c.useEffect)((function(){O().then((function(e){r(e)}))}),[]);var a=Object(c.useState)(""),i=Object(u.a)(a,2),l=i[0],h=i[1],f=Object(c.useState)(""),m=Object(u.a)(f,2),g=m[0],y=m[1],C=Object(c.useState)(""),N=Object(u.a)(C,2),S=N[0],k=N[1],D=Object(c.useState)(""),F=Object(u.a)(D,2),I=F[0],T=F[1],E=Object(c.useState)(""),J=Object(u.a)(E,2),L=J[0],A=J[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),L&&Object(s.jsx)(w,{message:I,style:L}),Object(s.jsx)(d,{handleFilter:function(e){k(e.target.value)},filter:S}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"add a new"}),Object(s.jsx)(j,{newName:l,handleNameChange:function(e){h(e.target.value)},newNumber:g,handleNumberChange:function(e){y(e.target.value)},handleSubmit:function(e){e.preventDefault();var n={name:l,number:g},c=t.find((function(e){return e.name===l})),a=Object(o.a)(Object(o.a)({},c),{},{number:g});c?window.confirm("".concat(l," is already added to the phonebook, replace the old number with a new one?"))&&v(c.id,a).then((function(e){r(t.map((function(n){return n.id!==c.id?n:e}))),T("Updated ".concat(e.name)),A("success"),setTimeout((function(){A("")}),3e3)})).catch((function(e){T("Information of ".concat(l," has already been removed from the system")),A("error")})):(x(n).then((function(e){r(t.concat(e)),T("Added ".concat(e.name)),A("success"),setTimeout((function(){A("")}),3e3)})),h(""),y(""))}})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(b,{filter:S,persons:t,handleDelete:function(e,n){window.confirm("Delete ".concat(n,"?"))&&p(e).then((function(){var c=t.filter((function(n){return n.id!==e}));r(c),T("Successfully deleted ".concat(n)),A("success"),setTimeout((function(){A("")}),3e3)})).catch((function(e){T("Information of ".concat(n," has already been removed from the system")),A("error")}))}})]})]})};t(39);i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.be7e7769.chunk.js.map